<!doctype html>
<html>
<head>
    <title>IRCHelp.org &mdash; Untitled Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="description" content="Comprehensive information on everything Internet Relay Chat" />
    <meta name="author" content="irchelpers" />
    <meta name="generator" content="PieCrust 1.3.0-dev" />
    <meta name="template-engine" content="Twig" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,
      initial-scale=1.0">
    <!-- Le styles -->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
    </style>
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144"
      href="/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
      href="/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
      href="/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed"
      href="/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="/ico/favicon.png">
</head>
<body>
    <!--Start of navigation-->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"> <a class="btn btn-navbar"
            data-toggle="collapse" data-target=".nav-collapse"> <span
              class="icon-bar"></span> <span class="icon-bar"></span> <span
              class="icon-bar"></span> </a> <a class="brand" href="/">#irchelp</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="/irchelp/credit.html">About</a></li>
              <li class="dropdown"> <a href="/irchelp/clients" class="dropdown-toggle"
                  data-toggle="dropdown">Clients </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/clients">All Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Windows</li>
                  <li><a href="/irchelp/clients/windows/mirc">mIRC</a></li>
                  <li><a href="/irchelp/clients/windows/xchat">XChat</a></li>
                  <li><a href="/irchelp/clients/windows">All Windows Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">MacOS X</li>
                  <li><a href="/irchelp/clients/mac/textual.html">Textual</a></li>
                  <li><a href="/irchelp/clients/mac/colloquy.html">Colloquy</a></li>
                  <li><a href="/irchelp/clients/mac/snak.html">Snak</a></li>
                  <li><a href="/irchelp/clients/mac">All MacOS X Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Linux/Unix Terminal</li>
                  <li><a href="/irchelp/clients/unix/irssi">irssi</a></li>
                  <li><a href="/irchelp/clients/unix/epic.html">EPIC</a></li>
                  <li><a href="/irchelp/clients/unix/ircii">ircII</a></li>
                  <li><a href="/irchelp/clients/unix/index.html#terminal">All Linux/Unix Terminal Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Linux/Unix Graphical</li>
                  <li><a href="/irchelp/clients/unix/xchat.html">XChat</a></li>
                  <li><a href="/irchelp/clients/unix/konversation.html">Konversation</a></li>
                  <li><a href="/irchelp/clients/unix/index.html#gui">All Linux/Unix Graphical Clients</a></li>
                  <li class="nav-header">Smartphones</li>
                  <li><a href="/irchelp/clients/mobile/android">Clients for Android</a></li>
                  <li><a href="/irchelp/clients/mobile/ios">Clients for iOS</a></li>
                  <li><a href="/irchelp/clients/mobile">All Smartphone Clients</a></li>
                  <li class="nav-header">Other OS and Crossplatform</li>
                  <li><a href="/irchelp/clients/cross/java">Clients writting in Java</a></li>
                  <li><a href="/irchelp/clients/cross">Other Crossplatform Clients</a></li>
                  <li><a href="/irchelp/clients/otheros">Clients for other Operating Systems</a></li>
                  <li><a href="/irchelp/clients/webclients.html">Web-based clients</a></li>

                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/networks" class="dropdown-toggle"
                  data-toggle="dropdown">Networks </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/networks/popular.html">Major Networks</a></li>
                  <li><a href="/irchelp/networks/regional.html">Regional Networks</a></li>
                  <li><a href="/irchelp/networks/topical.html">Topical Networks</a></li>
                  <li><a href="/irchelp/networks">All Networks</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Major Networks</li>
                  <li><a href="/irchelp/networks/efnet/">EFNet</a></li>
                  <li><a href="/irchelp/networks/ircnet.html">IRCnet</a></li>
                  <li><a href="/irchelp/networks/undernet.html">Undernet</a></li>
                  <li><a href="/irchelp/networks/dalnet.html">Dalnet</a></li>
                  <li><a href="/irchelp/networks/quakenet.html">Quakenet</a></li>
                  <li><a href="/irchelp/networks/freenode.html">Freenode</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/security" class="dropdown-toggle"
                  data-toggle="dropdown">Security </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/security">General Security</a></li>
                  <li><a href="/irchelp/security/privacy.html">Privacy</a></li>
                  <li><a href="/irchelp/security/nuke.html">Denial of Service</a></li>
                  <li><a href="/irchelp/security/trojan.html">Trojan Horses and Other Malware</a></li>
                  <li><a href="/irchelp/security/socialeng.html">Social Engineering</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/ircd" class="dropdown-toggle"
                  data-toggle="dropdown">Servers </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/ircd">General ircd information</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">EFNet IRCDs</li>
                  <li><a href="/irchelp/ircd/ratbox">ircd-ratbox</a></li>
                  <li><a href="/irchelp/ircd/hybrid">ircd-hybrid</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="#" class="dropdown-toggle"
                  data-toggle="dropdown">FAQs </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/new2irc.html">New user introduction</a></li>
<!--
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
-->
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/library.html" class="dropdown-toggle"
                  data-toggle="dropdown">Library </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/library.html">Index</a></li>
<!--
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
-->
                </ul>
              </li>
            </ul>
            <form class="navbar-form pull-right"> <input class="span2"
                placeholder="Search" type="text"> <button type="submit"
                class="btn">Search</button> </form>
          </div>
          <!--/.nav-collapse --> </div>
      </div>
    </div>
<!--end of navigation-->

    <div id="container" class="container">
<!--
                        <h1><a href="/">Untitled Page</a></h1>
            -->        
        
            <div class="content">
                                <p><a href="/index.html"><img src="/images/ilclogo2.gif" alt="Innovative Logic Corp." /></a></p>

<p>&nbsp<em>place</em>holder;</p>

<p><a href="/info/philosophy.html"> <img src="/images/buttons/philosop.gif" alt="Corporate Philosophy" />
</a> <a href="/services/consulting.html"> <img src="/images/buttons/consult.gif" alt="Consulting Services" />
</a> <a href="/products/index.html"> <img src="/images/buttons/softprod.gif" alt="Software
Products" /> </a> <a href="/info/experts.html"> <img src="/images/buttons/experts.gif" alt="Our Expert
Staff" /> </a> <a href="/info/contact.html"> <img src="/images/buttons/contact.gif" alt="Contact
Us" /> </a></p>

<p><a href="/services/internet.html"> <img src="/images/buttons/website.gif" alt="Web Site Creation" /> </a>
<a href="/services/intranet.html"> <img src="/images/buttons/intranet.gif" alt="Intranet Design" /> </a>
<a href="/services/multimedia.html"> <img src="/images/buttons/multimed.gif" alt="Multimedia Services" />
</a> <a href="/services/graphics.html"> <img src="/images/buttons/graphic.gif" alt="Graphic Design" />
</a> <a href="/services/customsoftware.html"> <img src="/images/buttons/custsoft.gif" alt="Custom Software" />
</a> <img src="/images/break.gif" alt="----------" /></p>

<h3>Internet Draft</h3>

<h3>Michael McLagan</h3>

<p>Innovative Logic Corp.</p>

<p>February 2, 1997</p>

<h2>Internet Relay Chat</h2>

<p>Client To Client Protocol</p>

<p><strong>Changes have been made to Section 2.1 as of February 12, 1997</strong>. </p>

<h3>Status of this Memo</h3>

<p>This document is a result of ongoing discussions among the IRC client coders
CTCP Working Group. The mailing list for the group may be subscribed to by
sending a mail message to
<a href="maito:listproc%25catless@newcastle.ac.uk">listproc%catless@newcastle.ac.uk</a>.
Comments may be sent to this mailing list, or to the author at [mmclagan&amp;nbsp_
place<em>holder;(at)&amp;nbsp</em>place<em>holder;invlogic.com](mailto:mmclagan</em>at_invlogic.
com) or in writing at his address on last page.</p>

<p>Distribution of this memo is unlimited.</p>

<p>This document is an Internet Draft. Internet Drafts are working documents of
the Internet Engineering Task Force (IETF), its Areas, and its Working Groups.
Note that other groups may also distribute working documents as Internet
Drafts.</p>

<p>Internet Drafts are draft documents valid for a maximum of six months, and may
be updated, replaced, or obsoleted by other documents at any time. It is not
appropriate to use Internet Drafts as reference material, or to cite them
other than as a &#8221;working draft&#8221; or &#8221;work in progress.&#8221;</p>

<h3>Abstract</h3>

<p>This document discusses messages exchanged between IRC (RFC 1459) clients. The
intent of these messages, and the protocol described herein, is to enhance the
use of IRC. These include text formatting codes, information exchange, direct
conversation and exchanging of files. A de facto standard exists today, but is
undefined and usually different from client to client. With this draft, and
ultimately an RFC, a clearly defined standard will be established.</p>

<h3>Table of Contents:</h3>

<ul>
<li>
<ol>
<li>Introduction</li>
</ol></li>
<li>1.1 Definitions</li>
<li>1.2 Background</li>
<li>
<ol>
<li>General Requirements </li>
</ol></li>
<li>2.1 Parsing Order </li>
<li>2.2 Quoting </li>
<li>
<ol>
<li>Text Attributes </li>
</ol></li>
<li>3.1 Bold </li>
<li>3.2 Inverse (Reverse) </li>
<li>3.3 Underline </li>
<li>3.4 Overstrike </li>
<li>3.5 Italics </li>
<li>3.6 Colours </li>
<li>3.7 Size </li>
<li>3.9 Extensions </li>
<li>3.10 Violations </li>
<li>3.11 Deprecations </li>
<li>
<ol>
<li>User Requests </li>
</ol></li>
<li>4.1 VERSION </li>
<li>4.2 PING </li>
<li>4.3 CLIENTINFO </li>
<li>4.4 ACTION </li>
<li>4.5 USERINFO </li>
<li>4.6 TIME </li>
<li>4.7 DCC </li>
<li>4.7.1 CHAT </li>
<li>4.7.2 XMIT </li>
<li>4.7.3 OFFER </li>
<li>4.8 XDCC </li>
<li>4.8.1 LIST </li>
<li>4.8.2 SEND </li>
<li>4.9 URL </li>
<li>4.10 EXT </li>
<li>4.11 SCR </li>
<li>4.12 Depecations </li>
<li>
<ol>
<li>Assigned IDs </li>
</ol></li>
<li>5.1 Client Extensions</li>
<li>5.2 DCC Protocols </li>
</ul>

<h3>1. Introduction</h3>

<h3>1.1 Definitions:</h3>

<p><request>     Any valid request, as discussed in 3. Sequence of chacters A-Z,
a-z and 0-9. A space is used to mark the end of the request.  <text>     Any
arbitrary text, subject to quoting as discussed in 2b. [ ] Optional item &#8230;
Item repeated as desired  <marker>     Character used to begin and end a user
request. Currently ^A, \001.  <quoted>     Text which is passed thru a quoting
mechanism as yet undefined. Not currently used.  <filename>    Name of a file
for transmission using DCC. File names should be presented without path
information. Path separators contained in a filename will invalidate the
request. Each client will be required to accept and convert a filename to
local conventions.  <format>    Character used to begin and optionally end a
text formatting request. Currently ^F, \006.  <EOT>    An extended text
attribute specification is terminated by a ^D, \004.  <space>    Required
space.  <arg>    Request/Format argument.  <index>    Colour selected from the
table below. Each spec will be preceded by an I, indicating this is an indexed
value.</p>

<p>Single character, 0-9 and A-F.</p>

<p>Example: IA  <RGB>     3 byte value, representing Red, Green &amp; Blue attributes
as values from 0 - 255. Each byte will be encoded in hexadecimal and converted
to text. Characters 0-9 and A-F will be permitted. Each such value will be
preceded by a #, indicating RGB.</p>

<p>Example: #00FF00 &lt;&lt; produces light green, btw.  <colour>    A colour
specification. This can either be an indexed colour or an RGB value.</p>

<p>Specification: <index> | <RGB> <port>     TCP/IP port number, 1024 - 65535
<ip>     Internet Protocol number, as follows:</p>

<ol>
<li><p>IP4 dotted notation (d.d.d.d)<br />
Example: 192.168.0.5</p></li>
<li><p>IP6 hex notation, also compressed format (x:x:x:x:x:x:x:x)<br />
See RFC 1884, chapter 2.2 for more info.</p></li>
</ol>

<p>Example: ::FFFF:C0:A8:00:05</p>

<ol>
<li><p>IP6 mixed hex notation (x:x:x:x:x:x:d.d.d.d)<br />
Example: ::FFFF:192.168.0.5</p></li>
<li><p>32-bit IP4 number<br />
This will be phased out, but is deprecated as of this RFC.</p></li>
</ol>

<p>Retained for compatibility with current DCC CHAT implementation.  <target>
Either a nickname or channel, something that IRC messages can be sent to.
<id>     A 3 character ID code assigned to each known IRC client, used as part
of extended text attributes or extended request.</p>

<p>All specifications will be spaced for legibility, white space used for this
purpose will not be considered part of the format of a given command. Only
spaces shown as <space> are required by the protocol.</p>

<p>Each colour will be an index, selected from the following table:</p>

<p>IndexNameRGB</p>

<p>0</p>

<p>Black</p>

<p>000,000,000</p>

<p>1</p>

<p>Blue</p>

<p>000,000,128</p>

<p>2</p>

<p>Green</p>

<p>000,128,000</p>

<p>3</p>

<p>Cyan</p>

<p>000,128,128</p>

<p>4</p>

<p>Red</p>

<p>128,000,000</p>

<p>5</p>

<p>Purple</p>

<p>128,000,128</p>

<p>6</p>

<p>Brown</p>

<p>128,128,000</p>

<p>7</p>

<p>Lt Gray</p>

<p>204,204,204</p>

<p>8</p>

<p>Gray</p>

<p>128,128,128</p>

<p>9</p>

<p>Lt Blue</p>

<p>000,000,255</p>

<p>A</p>

<p>Lt Green</p>

<p>000,255,000</p>

<p>B</p>

<p>Lt Cyan</p>

<p>000,255,255</p>

<p>C</p>

<p>Lt Red</p>

<p>255,000,000</p>

<p>D</p>

<p>Pink</p>

<p>255,000,255</p>

<p>E</p>

<p>Yellow</p>

<p>255,255,000</p>

<p>F</p>

<p>White</p>

<p>255,255,255</p>

<h3>2. General Requirements</h3>

<ul>
<li>### 2.1 Parsing Order</li>
</ul>

<p>The CTCP protocol involves different levels of encapsulation and quoting,
which can be confused. Below is the order of parsing of incoming messages,
which must be used in reverse for assembling requests or replies. This will be
involved in the parsing of PRIVMSG, NOTICE and DCC CHAT traffic. This order is
for user requests (section 4) only. Text attributes (section 3) should be
parsed where appropriate.</p>

<ul>
<li>Check for request &#8212; text embedded between <marker>s. </li>
</ul>

<p>If a request is found, it should be processed as follows:</p>

<ul>
<li>Break message into tokens using <space>. </li>
<li>Interpret first token as <request>. </li>
<li>Unquote tokens specified as requiring quoting for the given <request>. </li>
<li>Process request. </li>
</ul>

<p>A message containing multiple valid requests should be processed in a left to
right order. Requests generating replies may or may not be combined into a
single message, but must be returned in the same order as the requests were
processed.</p>

<ul>
<li>### 2.2 Quoting</li>
</ul>

<p>To allow transmission thru the server, which reserves certain characters for
its own use, as well as to support the workings of the protocol, various
characters contained in request messages will require quoting. Listed below
are the characters which require quoting, as well as their quoted equivalents.</p>

<p>Name ASCII</p>

<p>(Octal) Quoted</p>

<p>NUL (null)</p>

<p>000</p>

<p>&#8216;\0&#8217;</p>

<p>STX (ctcp marker)</p>

<p>001</p>

<p>&#8216;\1&#8217;</p>

<p>LF (newline)</p>

<p>012</p>

<p>&#8216;\n&#8217;</p>

<p>CR (carriage return)</p>

<p>015</p>

<p>&#8216;\r&#8217;</p>

<p>SPC (space)</p>

<p>040</p>

<p>&#8217;\@&#8217;</p>

<p>\ (backslash)</p>

<p>134</p>

<p>&#8216;&#92;&#8217;</p>

<p>Quoting will only be applied to arguments which require it as specified in
section 4 below.</p>

<h3>3. Text Attributes</h3>

<p>The primary task of an IRC Client program is to display text to the user, and
allow text messages to be sent to other users. As such, the following
specifications affect all aspects of a particular client&#8217;s display. All text
presented to the user should be assessed for attribute changes. It is up to
each client how it interprets the request, as well as whether or not to
present a particular attribute change request.</p>

<p>All attributes are cumulative, that is to say, no specific attribute overrides
any other attribute type. All attributes requests may be ignored, and any
particular combination of attributes may be ignored, either by design or by
user request. Certain combinations may not make sense in all environments, and
are therefore not required to be implemented.</p>

<ul>
<li>### 3.1 Bold</li>
</ul>

<p>Used to toggle the bold state. Clients may display this by using the &#8220;BOLD&#8221;
attribute of the current font, or by choosing predefined colour combination,
based on the capabilities of the terminal being used.</p>

<p>Specification: <format> B</p>

<ul>
<li>### 3.2 Inverse (Reverse)</li>
</ul>

<p>Used to toggle the inverse state. This should be displayed by reversing the
foreground and background colours of the current attribute. If this behavior
is not readily available to the client coder due to terminal type
restrictions, user defined colours may be used to indicate this state.</p>

<p>Specification: <format> V</p>

<ul>
<li>### 3.3 Underline</li>
</ul>

<p>Used to toggle the underline state. This should be displayed by using the
&#8220;UNDERLINE&#8221; attribute of the current font, or by choosing predefined colour
combinations, based on the capabilities of the terminal being used.</p>

<p>Specification: <format> U</p>

<ul>
<li>### 3.4 Overstrike</li>
</ul>

<p>Used to toggle the overstrike state. This should be displayed by using the
&#8220;OVERSTRIKE&#8221; attribute of the current font, or by choosing predefined colour
combinations, based on the capabilities of the terminal being used.</p>

<p>Specification: <format> S</p>

<ul>
<li>### 3.5 Italics</li>
</ul>

<p>Used to toggle the italics state. This should be displayed by using the
&#8220;ITALICS&#8221; attribute of the current font, or by choosing predefined colour
combinations, based on the capabilities of the terminal being used.</p>

<p>Specification: <format> I</p>

<ul>
<li>### 3.6 Colours</li>
</ul>

<p>This allows the requestor to specify the desired colours in which the text
following this attribute will be displayed. This attribute is cumulative as
well, within the restrictions of the terminal in use. Colours may be chosen in
two methods, either from an indexed colour table, or by specifying an RGB
value. As a result, each specification below offers an option of selecting an
RGB or Index value.</p>

<p>There will be 3 forms of request, as well as a means to end a request.</p>

<p>Specification: <format> CA <colour> <colour></p>

<ul>
<li>This form specifies both the foreground and background colours, in that order. Identical values of fore and back should be considered invalid and ignored. The client may define a range in which colours of a similar nature may also be ignored. One possible means of comparison would be: </li>
<li>R1 &lt; R2 - 8 or R1 > R2 + 8<br />
G1 &lt; G2 - 8 or G1 > G2 + 8</li>
</ul>

<p>B1 &lt; B2 - 8 or B1 > B2 + 8</p>

<ul>
<li>If a pair of colours passes these 3 tests, then it should be considered different enough for display purposes, based on constraints of the current display screen. The choice of a range of 16 values is arbitrary for the example, and individual clients may choose larger or smaller values at their discretion. </li>
<li>This particular request will specify both the foreground and background of any text to follow it. Foreground colour will be specified first in this format. Clients may ignore either component or both, based on user requests. A selection of <fore> and <back> with the same value should be considered invalid and ignored, using all other currently active attributes. </li>
</ul>

<p>Specification: <format> CF <colour></p>

<ul>
<li>Specify a change in foreground colour only. The current background colour is kept. Requests which set the foreground colour to one similar to the current background colour should be ignored. </li>
</ul>

<p>Specification: <format> CB <colour></p>

<ul>
<li>Specify a change in background colour only. The current foreground colour is preserved. Requests which set the background colour to one similar to the current foreground should be ignored. </li>
</ul>

<p>Specification: <format> CX &lt;A|F|B></p>

<ul>
<li>Remove the current colour attributes, leaving all other attributes intact. The type argument specifies which attribute, or both, is being ended. A - both fore and back, F - fore only, B - back only. </li>
<li>### 3.7 Size</li>
</ul>

<p>Choice of typeface point sizes may be made by the use of the Size text
attribute. An argument consisting of 2 decimal digits is used to set the
typeface point size used for subsequent display. Valid values are 01 - 72. A
value of 00 is used to reset the size attribute.</p>

<p>Specification: <format> F nn</p>

<ul>
<li>Additionally, the point size may be changed in steps. These can be either points or in defined step sizes or faces. </li>
</ul>

<p>Specification: <format> F +n</p>

<p>Specification: <format> F -n</p>

<ul>
<li>where the sign indicates direction positive or negative and N is a 1-4 step count to modify the current typeface. </li>
<li>### 3.8 Normal</li>
</ul>

<p>In order to facilitate the clearing of all currently set text attributes, a
means of specifying a return to baseline is desired. The following code will
clear all attributes and return to displaying text in the client&#8217;s currently
defined &#8216;normal&#8217; attribute.</p>

<p>Specification: <format> N</p>

<ul>
<li>### 3.9 Extensions</li>
</ul>

<p>In order to facilitate the extension of this protocol, a client may indicate
such an extension as follows:</p>

<p>Specification: <format> X <id> [<arg> [&#8230;]] <EOT></p>

<ul>
<li>The <id> field will contain a 3 character ID value, assigned to each client below. New clients should request an assigned ID from the appropriate authority. Current assignments are in section 5. </li>
<li>### 3.10 Violations</li>
</ul>

<p>Any combination not listed above is considered a violation of the formatting
protocol. Any such violation of this protocol will require immediate expulsion
from IRC of the individuals in question, with a note for their mommy pinned to
their lapel.</p>

<p>Until this desired result becomes feasable however, it is recommended that the
client discard the <format> character and continue to display the line as if
it had not been present.</p>

<ul>
<li>### 3.11 Deprecations</li>
</ul>

<p>Currently implemented standard codes are ^B for Bold, ^V for Inverse or
(Reverse as in ircII), ^_ for Underline, and ^O to turn off all attributes.
These are being replaced by the above formatting specifications, and should no
longer be sent by IRC clients, per section 2. Clients receiving these messages
may either strip the codes from the text or display them as previously
defined.</p>

<h3>4. User Requests</h3>

<p>In order to facilitate the exchange of information with in the IRC networks,
users have indicated desire to transmit files, determine transmission times
and send specialized text messages. As RFC 1459 offers no direct means to
exchange such requests, a protocol built upon RFC1459&#8217;s is required. Over the
course of time, the use of PRIVMSG and NOTICE encapsulated within the <marker>
character, ^A, has come to be standard. This will be an attempt to clarify
earlier documents on this subject, as well as provide additional
functionality.</p>

<p>The basic format of any request will be as follows:</p>

<ul>
<li>PRIVMSG <space> <target> <space> : <marker> <command> [<arg> [&#8230;]] <marker></li>
</ul>

<p>Within the framework of these requests, some may generate a response. This
response will take the following general form:</p>

<ul>
<li>NOTICE <space> <target> <space> : <marker> <command> [<arg> [&#8230;]] <marker></li>
</ul>

<p>Requests which are not recognised or are invalid may return an error message
similar to the following:</p>

<ul>
<li>NOTICE <space> <target> <space> : <marker> ERRMSG \ <command> [<arg> [&#8230;]] <marker></li>
</ul>

<p>RFC 1459 indicates that the servers will contain flood control mechanisms,
which will disconnect clients that send excessive amounts of text to their
server within short periods of time. Given that this method is used by less
desirable elements of the IRC community to take over channels, gain access to
otherwise used nicknames and to disrupt the pursuit of enjoyment, each client
must take steps to avoid this outcome.</p>

<p>For this reason, requests may be ignored by the client, based on selected
criteria. Each client must determine, for the benefit of its users, what means
it will provide to ensure that excessive text is not sent to the server.
Suggestions include sending only 1 CTCP reply per second, counting requests
and not responding to more than X requests per Y seconds, and others. The use
of ignore commands within clients may also be used to reject requests.</p>

<ul>
<li>### 4.1 VERSION (required)</li>
</ul>

<p>This request will provide to the initiator information about the particular
client is being used by the recipient. A valid request will have no arguments
accompanying it. This will generate a reply in the general form above, with
three fields in the response:</p>

<p>Field 1: Client name and version</p>

<p>Field 2: Operating system name and version</p>

<p>Field 3: Contact for individual/organization responsible for client.</p>

<p>These will be combined as follows:</p>

<ul>
<li><marker> VERSION <field 1> <space> <field 2> <space> <field 3> <marker></li>
</ul>

<p>Various clients include the ability to run scripts which may choose to receive
and reply to this request. At no time should any such script be permitted to
filter the request from the client&#8217;s internal handling, and as such, a client
is REQUIRED to produce its own VERSION response, subject to flood control.
Text within the fields should be quoted to avoid conflicting with the space
separator.</p>

<ul>
<li>### 4.2 PING <space> <arg> (required)</li>
</ul>

<p>This request is intended to determine the round trip time of a message from
the initiator to the recipient and back to the initiator. The precipient is
required to return a duplicate of the received argument without modification.
Each client will define its own format for the 16 byte argument. Requests with
arguments longer than 16 characters should be silently dropped.</p>

<p>The reply will be formatted as:</p>

<ul>
<li><marker> PONG <space> <arg> <marker></li>
</ul>

<p>Various clients include the ability to run scripts which may choose to receive
and reply to this request. At no time should any such script be permitted to
filter the request from the client&#8217;s internal handling, and as such, a client
is REQUIRED to produce its own PONG response, subject to flood control.</p>

<ul>
<li>### 4.3 CLIENTINFO (required)</li>
</ul>

<p>This request will be used to inquire of the capabilities of a client. The
response will be a space separated list of the valid request command words
recognised by this client.</p>

<p>The current implementation of this command allowed for an argument which would
provide additional information about the command, acting like a help
reference. In the interests of cutting down on the flood potential of clients,
as well as the recent need to maintain local help files, this optional
behavior is deprecated.</p>

<ul>
<li>### 4.4 ACTION <space> <text> (required)</li>
</ul>

<p>This request is used to provide an alternative form of speaking either to an
individual or channel. This text should be treated in a manner similar to a
PRIVMSG from RFC1459. Alternate display methods are encouraged.</p>

<p>No reply is made to this request.</p>

<ul>
<li>### 4.5 USERINFO (optional)</li>
</ul>

<p>The response to this request will be a user specified text string, and may
contain any valid ASCII character 32 or above. No restrictions are placed on
the content of this reply.</p>

<ul>
<li>### 4.6 TIME (optional)</li>
</ul>

<p>The response to this request will be the date and time of the system the
client is running on. The format of this reply will be that used be RFC822,
section 5. The general syntax is reprinted here for ease of use. Implementers
should review the referenced section for more information.</p>

<p>SYNTAX</p>

<p>date-time =</p>

<p>[ day &#8220;,&#8221; ] date time</p>

<p>; dd mm yy</p>

<p>; hh:mm:ss zzz</p>

<p>day =</p>

<p>&#8220;Mon&#8221; / &#8220;Tue&#8221; / &#8220;Wed&#8221; / &#8220;Thu&#8221;</p>

<p>/ &#8220;Fri&#8221; / &#8220;Sat&#8221; / &#8220;Sun&#8221;</p>

<p>date =</p>

<p>1*2DIGIT month 2DIGIT</p>

<p>; day month year</p>

<p>; e.g. 20 Jun 82</p>

<p>month =</p>

<p>&#8220;Jan&#8221; / &#8220;Feb&#8221; / &#8220;Mar&#8221; / &#8220;Apr&#8221;</p>

<p>/ &#8220;May&#8221; / &#8220;Jun&#8221; / &#8220;Jul&#8221; / &#8220;Aug&#8221;</p>

<p>/ &#8220;Sep&#8221; / &#8220;Oct&#8221; / &#8220;Nov&#8221; / &#8220;Dec&#8221;</p>

<p>time =</p>

<p>hour zone</p>

<p>; ANSI and Military</p>

<p>hour =</p>

<p>2DIGIT &#8220;:&#8221; 2DIGIT [&#8220;:&#8221; 2DIGIT]</p>

<p>; 00:00:00 - 23:59:59</p>

<p>zone =</p>

<p>&#8220;UT&#8221; / &#8220;GMT&#8221;</p>

<p>; Universal Time</p>

<p>; North American : UT</p>

<p>/ &#8220;EST&#8221; / &#8220;EDT&#8221;</p>

<p>; Eastern: - 5/ - 4</p>

<p>/ &#8220;CST&#8221; / &#8220;CDT&#8221;</p>

<p>; Central: - 6/ - 5</p>

<p>/ &#8220;MST&#8221; / &#8220;MDT&#8221;</p>

<p>; Mountain: - 7/ - 6</p>

<p>/ &#8220;PST&#8221; / &#8220;PDT&#8221;</p>

<p>; Pacific: - 8/ - 7</p>

<p>/ 1ALPHA</p>

<p>; Military: Z = UT;</p>

<p>; A:-1; (J not used)</p>

<p>; M:-12; N:+1; Y:+12</p>

<p>/ ( (&#8220;+&#8221; / &#8220;-&#8220;) 4DIGIT )</p>

<p>; Local differential</p>

<p>; hours+min. (HHMM)</p>

<ul>
<li><marker> TIME <space> <date-time> <marker></li>
<li>### 4.7 DCC <space> <type> <space> <protocol> <space> <ip> <space> <port> [<space> <arg> [<space> <arg> [&#8230;]]] (optional)</li>
</ul>

<p>This implements the Direct Client to Client protocol. The intent of this
protocol is to facilitate the transfer of information from client to client,
without directly accessing the IRC network. An initial message is sent from
the initiator to the recipient, where an IP and PORT are extracted from the
message and a direct TCP connection is established. The intent of the
connection is indicated by the TYPE field on the original message.</p>

<ul>
<li>###  4.7.1 CHAT <space> <protocol> <space> <ip> <space> <port></li>
</ul>

<p>CHAT is used to initiate a conversation directly between clients. Often used
to bypass the IRC network, and its associated latencies in delivering
messages. May also be used for other unspecified purposes.</p>

<p>All messages recieved via the DCC CHAT connection should be treated in the
same fashion as messages received from the IRC network via a PRIVMSG. This
extention of the current protocol allows further requests or text attributes
to be exchanged once the connection is established.</p>

<p>The <protocol> will be used to determine what, if any, protocol will be used
in the exchange of messages. The recipient must be able to support the
requested protocol, or it must not establish the connection, returning an
error reply, subject to flood control, as follows:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> CHAT <space> <protocol> <space> unavailable <marker></li>
</ul>

<p>Currently, the only protocol which is in use is &#8216;chat&#8217;. This will be
deprecated in favour of the schemes discussed in section 5. As of this
writing, the only valid protocol is &#8216;clear&#8217;. Others may be added as necessary,
and will be published from time to time in a supplement to this RFC.</p>

<p>If the recipient of the offer does not accept within a given time frame, 5
minutes seems appropriate, or the recipient declines to enter a chat with the
initiator, a negative acknowledgement should be sent, subject to flood
control. The format of this rejection should be:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> CHAT <space> <protocol> <space> declined <marker></li>
</ul>

<p>Upon reciept of this message, the initiator should inform its user and clear
the offered connection.</p>

<p>Should the cause of the failure be for a reason other than timeout or user
rejection, the rejection message should take the following format:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> CHAT <space> <protocol> <space> <error> <marker></li>
<li>###  4.7.2 XMIT <space> <protocol> <space> <ip> <space> <port> [<space> <name> [<space> <size> [<space> <MIME-type>]]]</li>
</ul>

<p>XMIT is intended to act as a replacement and enhancement of the original DCC
SEND protocol. One of the main failings of the older file exchange is it
required an acknowledgement of receipt of data prior to more data being sent.
This is a direct duplication of TCP streams, and as such is redundant. DCC
SEND also lacks the capacity to restart a failed transmission from any other
point than the beginning of the file.</p>

<p>In order to maintain compatibility with the CHAT request, XMIT will make use
of identical initial arguments.</p>

<p>The <protocol> will be used to determine what, if any, protocol will be used
in the exchange of data. The recipient must be able to support the requested
protocol, or it must not establish the connection, returning an error reply,
subject to flood control, as follows:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> CHAT <space> <protocol> <space> unavailable <marker></li>
</ul>

<p>As of this writing, the only valid protocol is &#8216;clear&#8217;. Others may be added as
necessary, and will be published from time to time in a supplement to this
RFC. This will be used primarily to support encryption methods, although other
uses are not disallowed. See section 5 for a description of the &#8216;clear&#8217;
protocol.</p>

<p>The <file>, <size> and <MIME-type> fields are optional. The recipient client
should provide adequate means to create a local file from the offered data
stream. Alternatively the stream may be directed to another program for
handling.</p>

<p>Should it be desired to supply a MIME-type in the case where either the file
has no name (is from a live feed) or has undetermined size, missing fields
must be filled in with &#8216;-&#8216;. A filename of &#8216;-&#8217; or beginning with a &#8216;-&#8217; must be
quoted to avoid confusion with the place holder.</p>

<p>If the recipient of the offer does not accept within a given time frame, 5
minutes seems appropriate, or the recipient declines to accept the offer from
the initiator, a negative acknowledgement should be sent, subject to flood
control. The format of this rejection should be:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> XMIT <space> <protocol> <space> declined <marker></li>
</ul>

<p>Upon reciept of this message, the initiator should inform its user and clear
the offered connection.</p>

<p>Should the cause of the failure be for a reason other than timeout or user
rejection, the rejection message should take the following format:</p>

<ul>
<li><marker> ERRMSG <space> DCC <space> XMIT <space> <protocol> <space> <error> <marker></li>
</ul>

<p>The transmission of data on the established connection will be dictated by the
protocol definiton in section 5.</p>

<ul>
<li>###  4.7.3 OFFER <space> <protocol> <space> <ip> <space> <port> [<space> <file> [<space> <size> [<space> <MIME-type>]]]</li>
</ul>

<p>This type is identical in all respects to the XMIT indicated above, but it is
designed for use on a channel, where the offer message will be broadcast to
multiple individuals. The initiator will open a server socket (LISTEN) and
accept connections on this socket as long as it is open. Each such accepted
connection will be handled identically to a DCC XMIT connection.</p>

<p>The offering socket may be closed at any time by the initiating client, and a
reasonable timeout value on the offer would also be indicated. Closing the
offer socket does not affect the state of any of the previously established
XMIT connections.</p>

<ul>
<li>### 4.8 XDCC <space> <type> [<space> <arg> [&#8230;]] (optional)</li>
</ul>

<p>eXtended DCC protocol is implemented primarily in slower scripts at this time.
It&#8217;s primary purpose allows the client to act as a file server, being
automatically able to initiate DCC SEND requests. The client, using whatever
means is most appropriate, builds a list of packages which are available for
transmission. This list is then available for anyone on IRC to transfer files
from.</p>

<ul>
<li>###  4.8.1 LIST [<space> <arg>]</li>
</ul>

<p>In response to this request, the recipient will send to the initiator a list
of offered packages. With each package will be a brief description of the file
or files included within the package. The exact format and lines/package are
at the discretion of the implementing client.</p>

<p>Use of the argument form of this request will provide the initiator with a
list of files contained within a given package, and possibly a description of
each file. Again, the format of the response is at the discretion of the
implementor.</p>

<ul>
<li>###  4.8.2 SEND <space> <arg></li>
</ul>

<p>This will initiate the transfer of files within the specified package. Each
file offered will generate either a DCC SEND or DCC OFFER, based on the
destination of the request. At the discretion of the client developer,
requests directed to channels may result in a DCC OFFER being made to the
entire channel, or directly back to the user via a DCC SEND. Use of this
feature violates the rule of RFC 1459, although I do not believe it violates
the spirit intended by the statement that a PRIVMSG should not be sent in
response to a PRIVMSG.</p>

<ul>
<li>### 4.9 URL (optional)</li>
</ul>

<p>This request is a supplement to USERINFO, and is designed to allow users to
request and respond with their home pages. The format of the reply is:</p>

<ul>
<li><marker> URL <space> <text> <marker>. </li>
</ul>

<p>The user of the recipient client controls what text is returned. Upon reciept,
the initiator of the request may direct the response to be placed in a list of
extracted urls, or may directly activate an appropriate browser to view the
home page returned.</p>

<ul>
<li>### 4.10 EXT <space> <id> [<space> <arg> [&#8230;]] (optional)</li>
</ul>

<p>This request is used to provide EXTentions to the protocol on a client by
client basis. The use of the assigned ID (section 5) is to guarantee
uniqueness of any request. No restrictions are placed on content beyond the
ID. Recipients of a request which they do not comprehend may ignore the
request silently.</p>

<p>Any request implemented using EXT should be converted to a standard request
once it has been shown to function, is approved by the committee for CTCPs,
and incorporated into a rewrite of this RFC.</p>

<ul>
<li>### 4.11 SCR <space> <sid> [<space> <arg> [&#8230;]] (optional) </li>
</ul>

<p>This request provides a means for scripts executing within a client to provide
extensions not provided by the client. The <sid> field is a 3 character ID
field for use by scripts. Clients should always ignore this request, allowing
only a script to generate a response no restrictions on content are imposed.
Script is responsible for quoting any undesirable characters in the argument
or reply.</p>

<ul>
<li>### 4.12 Deprecations (required)</li>
</ul>

<p>Currently there are clients which implement requests which are of no
significant value in the face of these specificiations. All such requests will
generate an ERRMSG reply. The list of deprecated requests is:</p>

<p>ECHO, SED, FINGER, UTC, ERRMSG (as a request), CLIENTINFO <arg>, SOURCE, and
DCC SEND.</p>

<h3>5. Assigned IDs</h3>

<ul>
<li>### 5.1 Client Extensions</li>
</ul>

<p>ValueClient(s)OSAuthor/DevelopersEmail Contact</p>

<p>TST</p>

<p>Reserved</p>

<p>N/A</p>

<p>N/A</p>

<p>N/A</p>

<p>ILC</p>

<p>IRC/2 &amp; PMIRC/2</p>

<p>OS/2</p>

<p>Innovative Logic Corp</p>

<p>&lt;irc2&nbsp<em>place</em>holder;(at)&nbsp<em>place</em>holder;invlogic.com></p>

<p>[ please send me a private email at
mmclagan&nbsp<em>place</em>holder;(at)&nbsp<em>place</em>holder;invlogic.com and give me
your choice of IDs ]</p>

<ul>
<li><h3>5.2 DCC protocols</h3></li>
<li><h3>5.2.1 clear</h3></li>
</ul>

<p>This protocol must be supported by all clients. This will be the most widely
used method for inter-client communications. As its name implies, data is
transmitted without any form of encryption. This is therefore an insecure
protocol and should be used only in circumstances where information contained
in the packets is public knowledge.</p>

<ul>
<li>###  5.2.1.1 CHAT</li>
</ul>

<p>In the context of the CHAT protocol, no initial handshaking will be
undertaken.</p>

<ul>
<li>###  5.2.1.2 XMIT</li>
</ul>

<p>While there is no handshaking for encryption, there is a small handshake used
to allow for resumption of transmission. The initiator will send 4 byte
timestamp value, in network byte order of seconds since the epoch. This value
will be compared with the stamp on any file of the same name the client has.</p>

<p>If this matches then the client will transmit a 4 byte offset into the file
from which the initiator should begin transmission. If they do not match, the
client may either overwrite the current file or select another name at its
discretion. In this case, a 4 byte 0 will be transmitted, indicating to the
initiator that it should commence transmission from the begining of the file.</p>

<p>Clients in environments not offering the epoch time value may send a 0 value,
which should be interpreted by the recipient as an indication that resumed
transfers are not supported and return a 0 value, taking appropriate steps to
rename or create a new name for the incoming file.</p>

<p>Upon completion of the transfer, the client should set the files time/date to
that specified in the initial epoch value. If this is value is 0, then the
current date/time should be used as stamped by the operating system.</p>

<ul>
<li>###  5.2.2 others</li>
</ul>

<p>Other protocols may be implemented, and will be described in a supplement to
this RFC. Any protocol implemented should build upon the &#8216;clear&#8217; protocol,
allowing maximal reusage of code. This will affect primarily XMIT as the CHAT
protocol carries no additional handshaking.</p>

<h3>Author&#8217;s Address</h3>

<p>Michael McLagan</p>

<p>Innovative Logic Corp.</p>

<p>59 E. River St, #2</p>

<p>Ogdensburg, NY 13669</p>

<p>U.S.A.</p>

<p>EMail: [mmclagan&nbsp<em>place</em>holder;(at)&nbsp<em>place</em>holder;invlogic.com](mailto
:mmclagan<em>at</em>invlogic.com)</p>

<p><img src="/images/break.gif" alt="---------" /></p>

<p>Report any access issues to our <a href="mailto:webmster_at_invlogic.com">webmaster</a>.
<a href="/index.html"> <img src="/images/buttons/home.gif" alt="homepage" /></a></p>

<p>Last modified: 24-Oct-2003 12:43PM.</p>

<p>Material copyright (C)1996-1997, Innovative Logic Corp.</p>

<p>Design copyright (C)1996-1997, <a href="http://www.invweb.com/">Innovative Web
Creations</a>.</p>

<p>All rights reserved.</p>

                            </div>
        
        <footer>

                        <p>All documents &copy; irchelp.org or original authors 2013 <br />Baked with <em><a href="http://bolt80.com/piecrust/">PieCrust</a> 1.3.0-dev</em>.</p>
                    </footer>
    </div>
    
        <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap-transition.js"></script>
    <script src="/js/bootstrap-alert.js"></script>
    <script src="/js/bootstrap-modal.js"></script>
    <script src="/js/bootstrap-dropdown.js"></script>
    <script src="/js/bootstrap-scrollspy.js"></script>
    <script src="/js/bootstrap-tab.js"></script>
    <script src="/js/bootstrap-tooltip.js"></script>
    <script src="/js/bootstrap-popover.js"></script>
    <script src="/js/bootstrap-button.js"></script>
    <script src="/js/bootstrap-collapse.js"></script>
    <script src="/js/bootstrap-carousel.js"></script>
    <script src="/js/bootstrap-typeahead.js"></script>
</body>
</html>
