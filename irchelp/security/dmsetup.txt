<!doctype html>
<html>
<head>
    <title>IRCHelp.org &mdash; Untitled Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="description" content="Comprehensive information on everything Internet Relay Chat" />
    <meta name="author" content="irchelpers" />
    <meta name="generator" content="PieCrust 1.3.0-dev" />
    <meta name="template-engine" content="Twig" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,
      initial-scale=1.0">
    <!-- Le styles -->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
    </style>
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144"
      href="/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
      href="/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
      href="/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed"
      href="/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="/ico/favicon.png">
</head>
<body>
    <!--Start of navigation-->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"> <a class="btn btn-navbar"
            data-toggle="collapse" data-target=".nav-collapse"> <span
              class="icon-bar"></span> <span class="icon-bar"></span> <span
              class="icon-bar"></span> </a> <a class="brand" href="/">#irchelp</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="/irchelp/credit.html">About</a></li>
              <li class="dropdown"> <a href="/irchelp/clients" class="dropdown-toggle"
                  data-toggle="dropdown">Clients </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/clients">All Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Windows</li>
                  <li><a href="/irchelp/clients/windows/mirc">mIRC</a></li>
                  <li><a href="/irchelp/clients/windows/xchat">XChat</a></li>
                  <li><a href="/irchelp/clients/windows">All Windows Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">MacOS X</li>
                  <li><a href="/irchelp/clients/mac/textual.html">Textual</a></li>
                  <li><a href="/irchelp/clients/mac/colloquy.html">Colloquy</a></li>
                  <li><a href="/irchelp/clients/mac/snak.html">Snak</a></li>
                  <li><a href="/irchelp/clients/mac">All MacOS X Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Linux/Unix Terminal</li>
                  <li><a href="/irchelp/clients/unix/irssi">irssi</a></li>
                  <li><a href="/irchelp/clients/unix/epic.html">EPIC</a></li>
                  <li><a href="/irchelp/clients/unix/ircii">ircII</a></li>
                  <li><a href="/irchelp/clients/unix/index.html#terminal">All Linux/Unix Terminal Clients</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Linux/Unix Graphical</li>
                  <li><a href="/irchelp/clients/unix/xchat.html">XChat</a></li>
                  <li><a href="/irchelp/clients/unix/konversation.html">Konversation</a></li>
                  <li><a href="/irchelp/clients/unix/index.html#gui">All Linux/Unix Graphical Clients</a></li>
                  <li class="nav-header">Smartphones</li>
                  <li><a href="/irchelp/clients/mobile/android">Clients for Android</a></li>
                  <li><a href="/irchelp/clients/mobile/ios">Clients for iOS</a></li>
                  <li><a href="/irchelp/clients/mobile">All Smartphone Clients</a></li>
                  <li class="nav-header">Other OS and Crossplatform</li>
                  <li><a href="/irchelp/clients/cross/java">Clients writting in Java</a></li>
                  <li><a href="/irchelp/clients/cross">Other Crossplatform Clients</a></li>
                  <li><a href="/irchelp/clients/otheros">Clients for other Operating Systems</a></li>
                  <li><a href="/irchelp/clients/webclients.html">Web-based clients</a></li>

                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/networks" class="dropdown-toggle"
                  data-toggle="dropdown">Networks </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/networks/popular.html">Major Networks</a></li>
                  <li><a href="/irchelp/networks/regional.html">Regional Networks</a></li>
                  <li><a href="/irchelp/networks/topical.html">Topical Networks</a></li>
                  <li><a href="/irchelp/networks">All Networks</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Major Networks</li>
                  <li><a href="/irchelp/networks/efnet/">EFNet</a></li>
                  <li><a href="/irchelp/networks/ircnet.html">IRCnet</a></li>
                  <li><a href="/irchelp/networks/undernet.html">Undernet</a></li>
                  <li><a href="/irchelp/networks/dalnet.html">Dalnet</a></li>
                  <li><a href="/irchelp/networks/quakenet.html">Quakenet</a></li>
                  <li><a href="/irchelp/networks/freenode.html">Freenode</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/security" class="dropdown-toggle"
                  data-toggle="dropdown">Security </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/security">General Security</a></li>
                  <li><a href="/irchelp/security/privacy.html">Privacy</a></li>
                  <li><a href="/irchelp/security/nuke.html">Denial of Service</a></li>
                  <li><a href="/irchelp/security/trojan.html">Trojan Horses and Other Malware</a></li>
                  <li><a href="/irchelp/security/socialeng.html">Social Engineering</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/ircd" class="dropdown-toggle"
                  data-toggle="dropdown">Servers </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/ircd">General ircd information</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">EFNet IRCDs</li>
                  <li><a href="/irchelp/ircd/ratbox">ircd-ratbox</a></li>
                  <li><a href="/irchelp/ircd/hybrid">ircd-hybrid</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a href="#" class="dropdown-toggle"
                  data-toggle="dropdown">FAQs </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/new2irc.html">New user introduction</a></li>
<!--
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
-->
                </ul>
              </li>
              <li class="dropdown"> <a href="/irchelp/library.html" class="dropdown-toggle"
                  data-toggle="dropdown">Library </a>
                <ul class="dropdown-menu">
                  <li><a href="/irchelp/library.html">Index</a></li>
<!--
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
-->
                </ul>
              </li>
            </ul>
            <form class="navbar-form pull-right"> <input class="span2"
                placeholder="Search" type="text"> <button type="submit"
                class="btn">Search</button> </form>
          </div>
          <!--/.nav-collapse --> </div>
      </div>
    </div>
<!--end of navigation-->

    <div id="container" class="container">
<!--
                        <h1><a href="/">Untitled Page</a></h1>
            -->        
        
            <div class="content">
                                <p>The dmsetup.exe Trojan horse attack</p>

<p>adapted by prysm from other sources 5/26/98
updated by Jolo 7/1/98</p>

<p>WHAT IS DMSETUP.EXE?</p>

<p>To put it plainly dmsetup.exe is a file (if you are silly enough to
run it) that copies itself in several places on your hard disk,
makes its own mirc.ini and associated script and adds to a system
file to ensure it cannot be purged easily.</p>

<p>All the script does (so far) is send itself to people when they join
and make the person who has it /quit from IRC on a certain keyword.</p>

<p>This file affects at least mIRC 5.11 and 5.31 (the latest version),
so unlike the original script.ini attack, upgrading is not the
solution.</p>

<p>As a rule we should NEVER accept or run any programs that we don&#8217;t
know. Treat dmsetup.exe just like a nasty VIRUS.</p>

<p>To fix this problem, there are 2 main scenarios, depending on
whether you have mIRC in the C drive or not. We highly recommend you
work through the following steps, because it&#8217;s much better to make
sure you&#8217;ve eradicated the problem, plus you&#8217;re more likely to be
reading the latest, most up to date fixes here.</p>

<p>If all else fails, or if all of this is meaningless tech-speak and
you can&#8217;t find a friend to walk you through the steps, you may
choose to try downloading a command file which you may find at:
    http://www.mirc.bay-city.net/dmremove.html
which you then run, and hope it does all of this for you. You really
should use that only as a last resort!</p>

<hr />

<p>IF YOU HAVE MIRC INSTALLED ON YOUR C: DRIVE&#8230;</p>

<p>In other words if you have c:\mirc\</p>

<p>1st time dmsetup.exe is run</p>

<ol>
<li><p>It copies itself to c:\
                    c:\mirc
                    c:\windows
                    c:\program files
but it DOES NOT copy itself to anywhere else.</p></li>
<li><p>It then creates c:\configg.sys (reason explained later).</p></li>
<li><p>Then it adds dmsetup line to autoexec.bat (this can be seen with
a text editor).</p></li>
<li><p>It copies mirc.ini to backup0412.ini</p></li>
<li><p>Creates mirc.ini and mircrem.ini</p></li>
<li><p>Displays error type 0 (so that you think the download is broken).</p></li>
</ol>

<p>2nd 3rd 4th &#8230; time it is run</p>

<p>It does all the above steps exactly the same except 2 &amp; 3 due to the
existance of configg.sys (unsure whether its contents are relevent) </p>

<p>Recommended course of action</p>

<ol>
<li><p>Unload mircrem.ini</p></li>
<li><p>Open c:\autoexec.bat with notepad and remove the dmsetup line -
save and exit</p></li>
<li><p>Delete the following
    c:\dmsetup.exe
    c:\configg.sys
    c:\mirc\dmsetup.exe
    c:\mirc\mircrem.ini
    c:\mirc\backup0412.ini
    c:\windows\dmsetup.exe
    c:\progra~1\dmsetup.exe</p></li>
</ol>

<p>I have not included mirc.ini because once mircrem.ini is gone mirc resets
the one line in this that was of any harm - I&#8217;ll leave the choice up to
you. </p>

<hr />

<p>IF YOU HAVE DO NOT HAVE MIRC INSTALLED ON YOUR C: DRIVE&#8230;</p>

<p>The attack performs steps 1 to 3 above, then returns error type 1.</p>

<p>There is a differnce in step 1 however - because the c:\mirc
directory doesn&#8217;t exist it copies itself into mirc (no extension) on
the root drive.</p>

<p>Because it didn&#8217;t alter mirc.ini, the people won&#8217;t even know they have
it nor will anyone else either, unless they check out of curiosity or
until they put mIRC on the c: drive.</p>

<p>Recommended course of action</p>

<ol>
<li><p>Open c:\autoexec.bat with notepad and remove the dmsetup line -
save and exit</p></li>
<li><p>Delete the following
    c:\dmsetup.exe
    c:\configg.sys
    c:\mirc
    c:\windows\dmsetup.exe
    c:\progra~1\dmsetup.exe</p></li>
</ol>

<hr />

<p>You should have eradicated the dmsetup attack now. Please take some
time to read the other help files at:</p>

<pre><code>http://www.irchelp.org/irchelp/security/
</code></pre>

<p>to make sure you are not infected with other similar trojan horse
attacks, and to make sure you don&#8217;t get infected again in the
future.</p>

                            </div>
        
        <footer>

                        <p>All documents &copy; irchelp.org or original authors 2013 <br />Baked with <em><a href="http://bolt80.com/piecrust/">PieCrust</a> 1.3.0-dev</em>.</p>
                    </footer>
    </div>
    
        <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap-transition.js"></script>
    <script src="/js/bootstrap-alert.js"></script>
    <script src="/js/bootstrap-modal.js"></script>
    <script src="/js/bootstrap-dropdown.js"></script>
    <script src="/js/bootstrap-scrollspy.js"></script>
    <script src="/js/bootstrap-tab.js"></script>
    <script src="/js/bootstrap-tooltip.js"></script>
    <script src="/js/bootstrap-popover.js"></script>
    <script src="/js/bootstrap-button.js"></script>
    <script src="/js/bootstrap-collapse.js"></script>
    <script src="/js/bootstrap-carousel.js"></script>
    <script src="/js/bootstrap-typeahead.js"></script>
</body>
</html>
